/* 
 * yhswf v1.1
 */
var win=window,doc=win.document,fromCharCode=String.fromCharCode,push=Array.prototype.push,min=Math.min,max=Math.max;
SRT={TAG:{End:0,ShowFrame:1,DefineShape:2,PlaceObject:4,RemoveObject:5,DefineBits:6,DefineButton:7,JpegTables:8,SetBackgroundColor:9,DefineFont:10,DefineText:11,DoAction:12,DefineFontInfo:13,DefineSound:14,StartSound:15,DefineButtonSound:17,SoundStreamHead:18,SoundStreamBlock:19,DefineBitsLossless:20,DefineBitsJpeg2:21,DefineShape2:22,DefineButtonCxform:23,Protect:24,PlaceObject2:26,RemoveObject2:28,DefineShape3:32,DefineText2:33,DefineButton2:34,DefineBitsJpeg3:35,DefineBitsLossless2:36,DefineEditText:37,
DefineSprite:39,FrameLabel:43,SoundStreamHead2:45,DefineMorphShape:46,DefineFont2:48,ExportAssets:56,ImportAssets:57,EnableDebugger:58,DoInitAction:59,DefineVideoStream:60,VideoFrame:61,DefineFontInfo2:62,EnableDebugger2:64,ScriptLimits:65,SetTabIndex:66,FileAttributes:69,PlaceObject3:70,ImportAssets2:71,DefineFontAlignZones:73,CsmTextSettings:74,DefineFont3:75,SymbolClass:76,Metadata:77,DefineScalingGrid:78,DoAbc:82,DefineShape4:83,DefineMorphShape2:84,DefineSceneAndFrameLabelData:86,DefineBinaryData:87,
DefineFontName:88,StartSound2:89,DefineBitsJpeg4:90,DefineFont4:91},ActionCodes:{ActionNextFrame:4,ActionPreviousFrame:5,ActionPlay:6,ActionStop:7,ActionToggleQuality:8,ActionStopSounds:9,ActionAdd:10,ActionSubtract:11,ActionMultiply:12,ActionDivide:13,ActionEquals:14,ActionLess:15,ActionAnd:16,ActionOr:17,ActionNot:18,ActionStringEquals:19,ActionStringLength:20,ActionStringExtract:21,ActionPop:23,ActionToInteger:24,ActionGetVariable:28,ActionSetVariable:29,ActionSetTarget2:32,ActionStringAdd:33,
ActionGetProperty:34,ActionSetProperty:35,ActionCloneSprite:36,ActionRemoveSprite:37,ActionTrace:38,ActionStartDrag:39,ActionEndDrag:40,ActionStringLess:41,ActionThrow:42,ActionCastOp:43,ActionImplementsOp:44,ActionFSCommand2:45,ActionRandomNumber:48,ActionMbstringLength:49,ActionCharToAscii:50,ActionAsciiToChar:51,ActionGetTime:52,ActionMbstringExtract:53,ActionMbcharToAscii:54,ActionMbasciiToChar:55,ActionDelete:58,ActionDelete2:59,ActionDefineLocal:60,ActionCallFunction:61,ActionReturn:62,ActionModulo:63,
ActionNewObject:64,ActionDefineLocal2:65,ActionInitArray:66,ActionInitObject:67,ActionTypeOf:68,ActionTargetPath:69,ActionEnumerate:70,ActionAdd2:71,ActionLess2:72,ActionEquals2:73,ActionToNumber:74,ActionToString:75,ActionPushDuplicate:76,ActionStackSwap:77,ActionGetMember:78,ActionSetMember:79,ActionIncrement:80,ActionDecrement:81,ActionCallMethod:82,ActionNewMethod:83,ActionInstanceOf:84,ActionEnumerate2:85,ActionDoInitAction:89,ActionBitAnd:96,ActionBitOr:97,ActionBitXor:98,ActionBitLShift:99,
ActionBitRShift:100,ActionBitURShift:101,ActionStrictEquals:102,ActionGreater:103,ActionStringGreater:104,ActionExtends:105,ActionGotoFrame:129,ActionDoABC:130,ActionGetUrl:131,ActionStoreRegister:135,ActionConstantPool:136,ActionWaitForFrame:138,ActionSetTarget:139,ActionGoToLabel:140,ActionWaitForFrame2:141,ActionDefineFunction2:142,ActionTry:143,ActionWith:148,ActionPush:150,ActionJump:153,ActionGetUrl2:154,ActionDefineFunction:155,ActionIf:157,ActionCall:158,ActionGotoFrame2:159},OperationNames:["NOP",
"Matrix","ColorMatrix","Shape","StraightEdgeRecord","CurvedEdgeRecord","StyleChangeRecord","SolidFill","GradientFill","FocalGradientFill","BitmapFill","LineStyle","GradientControlPoint","MorphShape","MorphGradRrecord","Image","ImageJpeg","ImageAlpha","Bitmap","BitmapAlpha","Font","FontShape","KerningRecord","FontInfo","StaticText","DynamicText","DoAction","ActionRecord","ClipAction","Button","ButtonRecord","Sprite","FrameLabel","SetBackgroundColor","PlaceObject","RemoveObject","ShowFrame",""],Operation:{},
TagNames:{},TagHandlers:{},Signature:{F:70,C:67,W:87,S:83},ActionParserHandles:{},PlaceFlags:{Move:1,HasCharacter:2,HasMatrix:4,HasCxform:8,HasRatio:16,HasName:32,HasClipDepth:64,HasClipActions:128},PlaceTypes:{Add:1,Modify:2,Replace:3},FillStyleTypes:{Solid:0,LinearGradient:16,RadialGradient:18,FocalRadialGradient:19,RepeatingBitmap:64,ClippedBitmap:65,NonSmoothedRepeatingBitmap:66,NonSmoothedClippedBitmap:67},qualityValues:{LOW:"low",AUTO_LOW:"autolow",AUTO_HIGH:"autohigh",MEDIUM:"medium",HIGH:"high",
BEST:"best"},scaleValues:{SHOW_ALL:"showall",NO_ORDER:"noorder",EXACT_FIT:"exactfit"},readyStates:{LOADING:0,UNINITIALIZED:1,LOADED:2,INTERACTIVE:3,COMPLETE:4},RecordHeader:{SHORT:1,LONG:2},controlTags:[0,1,4,5,15,18,19,26,28,43,45],spreadModes:{PAD:0,REFLECT:1,REPEAT:2},interpolationModes:{RGB:0,LINEAR_RGB:1},styleChangeStates:{MOVE_TO:1,LEFT_FILL_STYLE:2,RIGHT_FILL_STYLE:4,LINE_STYLE:8,NEW_STYLES:16},buttonStates:{UP:1,OVER:2,DOWN:4,HIT:8},mouseButtons:{LEFT:1,RIGHT:2,MIDDLE:3},textStyleFlags:{HAS_FONT:8,
HAS_COLOR:4,HAS_XOFFSET:1,HAS_YOFFSET:2},valueTypes:{STRING:0,FLOATING_POINT:1,NULL:2,UNDEFINED:3,REGISTER:4,BOOLEAN:5,DOUBLE:6,INTEGER:7,CONSTANT8:8,SWIFF_CONSTANT16:9},urlTargets:{SELF:"_self",BLANK:"_blank",PARENT:"_parent",TOP:"_top"},bitmapFormats:{COLORMAPPED:3,RGB15:4,RGB24:5},defaultRenderer:null,parser:{},CanvasRenderer:{},math:{}};
(function(){var l=SRT.TAG,g=SRT.TagNames,o=SRT.TagHandlers;for(var t in l){var u=l[t];g[u]=t;o[u]="handle"+t}l=SRT.OperationNames;g=0;for(o=l.length;g<o;g++)if(t=l[g])SRT.Operation[t]=g;l=SRT.ActionCodes;for(t in l)if(l[t]>128)SRT.ActionParserHandles[l[t]]=t.replace("Action","read")})();
(function(){var l=function(){this.initialize.apply(this,arguments)};l.prototype={initialize:function(g,o,t,u,r,x){this.a=g;this.b=o;this.c=t;this.d=u;this.tx=r;this.ty=x},setTranslate:function(g,o){var t=this.ty+this.b*g+this.d*o;this.tx=this.tx+this.a*g+this.c*o;this.ty=t;return this},setRotate:function(g){var o=Math.sin(g);g=Math.cos(g);var t=this.a,u=this.b,r=this.c,x=this.d;this.a=t*g+r*o;this.b=u*g+x*o;this.c=r*g-t*o;this.d=x*g-u*o;return this},setScale:function(g,o){if(o===undefined)o=g;this.a*=
g;this.b*=g;this.c*=o;this.d*=o;return this},pointApply:function(g,o){return{x:this.a*g+this.c*o+this.tx,y:this.b*g+this.d*o+this.ty}},rectApply:function(g,o,t,u){var r=g;g=g+t;t=o;var x=o+u;o=this.pointApply(r,t);u=this.pointApply(g,t);var d=this.pointApply(r,x);x=this.pointApply(g,x);r=Math.min(o.x,u.x,d.x,x.x);g=Math.max(o.x,u.x,d.x,x.x);t=Math.min(o.y,u.y,d.y,x.y);x=Math.max(o.y,u.y,d.y,x.y);return{x:r,y:t,width:g-r,height:x-t}},boundingApply:function(g,o,t,u){var r=this.pointApply(g,t),x=this.pointApply(o,
t),d=this.pointApply(g,u);u=this.pointApply(o,u);g=Math.min(r.x,x.x,d.x,u.x);o=Math.max(r.x,x.x,d.x,u.x);t=Math.min(r.y,x.y,d.y,u.y);u=Math.max(r.y,x.y,d.y,u.y);return{left:g,right:o,top:t,bottom:u}},clone:function(){return new l(this.a,this.b,this.c,this.d,this.tx,this.ty)},invert:function(){var g=1/(this.a*this.d-this.b*this.c);return new l(g*this.d,-g*this.b,-g*this.c,g*this.a,g*(this.c*this.ty-this.d*this.tx),g*(this.b*this.tx-this.a*this.ty))},concat:function(g){return new l(this.a*g.a+this.b*
g.c,this.a*g.b+this.b*g.d,this.c*g.a+this.d*g.c,this.c*g.b+this.d*g.d,this.tx*g.a+this.ty*g.c+g.tx,this.tx*g.b+this.ty*g.d+g.ty)}};l.getIdentity=function(){return new l(1,0,0,1,0,0)};l.formateMatrix=function(g){return new l(g.scaleX,g.rotateSkew0,g.rotateSkew1,g.scaleY,g.translateX/20,g.translateY/20)};SRT.math.TransformMatrix=l})();
(function(){SRT.Interpolate={interpolateColor:function(l,g,o,t){for(var u=[],r=0;r<l.length;r++)r<3?u.push(Math.round(l[r]*t+g[r]*o)):u.push(l[r]*t+g[r]*o);return u},interpolateMatrix:function(l,g,o,t){var u={};u.scaleX=l.scaleX*t+g.scaleX*o;u.scaleY=l.scaleY*t+g.scaleY*o;u.rotateSkew0=l.rotateSkew0*t+g.rotateSkew0*o;u.rotateSkew1=l.rotateSkew1*t+g.rotateSkew1*o;u.translateX=l.translateX*t+g.translateX*o;u.translateY=l.translateY*t+g.translateY*o;return u}}})();
(function(){var l=SRT.Operation,g=SRT.FillStyleTypes,o=SRT.PlaceTypes,t=SRT.math.TransformMatrix,u=SRT.Interpolate,r=SRT.analyzer={sprite:function(d,b){for(var a=d.tags,h=[],q={},v=[],i=[],s=[],n,c=0,f=a.length;c<f;c++){n=a[c];switch(n.operation){case l.PlaceObject:n.transform=n.transform?t.formateMatrix(n.transform):t.getIdentity();switch(n.placeType){case o.Add:q[n.zOrder]=n;b.dictionary[n.characterId].operation==l.Sprite&&s.push(n.characterId);break;case o.Modify:n.characterId=h[h.length-1].elements[n.zOrder].characterId;
q[n.zOrder]=n;break;case o.Replace:q[n.zOrder]=n;break}break;case l.RemoveObject:delete q[n.zOrder];break;case l.ShowFrame:h.push({elements:r.cloneFrameLayer(q),actions:i});v.push(i);i=[];break;case l.DoAction:i.concat(n.actions);break}}return{uuid:d.characterId,frames:h,className:"MovieClip",childSprites:s}},cloneFrameLayer:function(d){var b={};for(var a in d)b[a]=d[a];return b},lineGradient:function(d){var b=d.transform,a;if(b.c==0){a=1638.4*b.a;b=0}else{if(b.a==0)a=0;else{a=-b.c/b.a;a=Math.sqrt(1/
(1+a*a))}if(a==0){a=0;b=1638.4*b.b}else{var h=b.d/a;a=1638.4*(b.a/a);b=1638.4*h}}return{bounding:[0,0,a,b],colors:d.gradient}},radialGradient:function(d){var b=d.transform,a;if(b.c==0){a=1638.4*b.a;b=0}else{if(b.a==0)a=0;else{a=-b.c/b.a;a=Math.sqrt(1/(1+a*a))}if(a==0){a=0;b=1638.4*b.b}else{var h=b.d/a;a=1638.4*(b.a/a);b=1638.4*h}}return{bounding:[0,0,0,0,0,Math.max(a,b)/2],colors:d.gradient}},morphShape:function(d){var b=d.fillStyles,a=d.lineStyles,h=d.startRecords,q=d.endRecords;r.synchronizeMorphRecords(h,
q);h=r.translatePaths(h,b,a,"start");b=r.translatePaths(q,b,a,"end");var v=d.startBounds;a=d.endBounds;q=(v[2]-v[0])/20;var i=(v[3]-v[1])/20;v={x:-v[0]/20,y:-v[1]/20};var s={width:q,height:i};q=(a[2]-a[0])/20;i=(a[3]-a[1])/20;return{uuid:d.characterId,width:s.width,height:s.height,startRecords:h,endRecords:b,startAnchorPoint:{x:v.x,y:v.y},endAnchorPoint:{x:-a[0]/20,y:-a[1]/20},startSize:s,endSize:{width:q,height:i},className:"MorphShape"}},morphShape2:function(d){r.synchronizeMorphRecords(d.startRecords,
d.endRecords);return{uuid:d.characterId,fillStyles:d.fillStyles,lineStyles:d.lineStyles,startRecords:d.startRecords,endRecords:d.endRecords,startBounds:d.startBounds,endBounds:d.endBounds,className:"MorphShape"}},synchronizeMorphRecords:function(d,b){for(var a,h,q=0,v=0,i=d.length;q<i;q++){a=d[q];h=b[v++];switch(a.operation){case l.StyleChangeRecord:break;case l.StraightEdgeRecord:if(h.operation==l.CurvedEdgeRecord){a.operation=l.CurvedEdgeRecord;a.controlDeltaX=a.x/2;a.anchorDeltaX=a.controlDeltaX;
a.controlDeltaY=a.y/2;a.anchorDeltaY=a.controlDeltaY;delete a.x;delete a.y}break;case l.CurvedEdgeRecord:if(h.operation==l.StraightEdgeRecord){h.operation=l.CurvedEdgeRecord;h.controlDeltaX=h.x/2;h.anchorDeltaX=h.controlDeltaX;h.controlDeltaY=h.y/2;h.anchorDeltaY=h.controlDeltaY;delete h.x;delete h.y}break}}},translatePaths:function(d,b,a,h){var q,v,i,s,n=0,c=0,f,k=false,j=false,e,m=[];if(h){q=h+"Color";v=h+"Transform";h=h+"Ratio"}else{q="color";v="transform";h="ratio"}for(var p=0,w=d.length;p<w;p++){i=
d[p];switch(i.operation){case l.StyleChangeRecord:if(i.fillStyles)b=i.fillStyles;if(i.lineStyles)a=i.lineStyles;if(i.fillStyle>0||i.lineStyle>0){k&&m.push(["fill"]);if(e){m.push(["transform",e.a,e.b,e.c,e.d,e.tx,e.ty]);e=null}j&&m.push(["stroke"]);m.push(["beginPath"]);begined=true}if(i.fillStyle>0){s=b[i.fillStyle-1];switch(s.operation){case l.SolidFill:m.push(["fillStyle",r.colorArrayToString(s[q])]);break;case l.GradientFill:k={type:s.type==g.LinearGradient?"linear":"radial",stops:[]};f=0;for(var y=
s.gradients.length;f<y;f++)k.stops.push({color:r.colorArrayToString(s.gradients[f][q]),position:s.gradients[f][h]/255});if(s[v]){e=t.formateMatrix(s[v]);m.push(["transform",e.a,e.b,e.c,e.d,e.tx,e.ty]);e=e.invert()}m.push(["fillStyle",k]);break;case l.BitmapFill:break}k=true}if(i.lineStyle>0){m.push(["strokeStyle",r.colorArrayToString(a[i.lineStyle-1][q])]);j=true}if(i.moveDeltaX!=0||i.moveDeltaY!=0){n=i.moveDeltaX/20;c=i.moveDeltaY/20;if(e){i=e.pointApply(n,c);m.push(["moveTo",i.x,i.y])}else m.push(["moveTo",
n,c])}break;case l.StraightEdgeRecord:n+=i.x/20;c+=i.y/20;if(e){i=e.pointApply(n,c);m.push(["lineTo",i.x,i.y])}else m.push(["lineTo",n,c]);break;case l.CurvedEdgeRecord:s=n+i.controlDeltaX/20;f=c+i.controlDeltaY/20;n=s+i.anchorDeltaX/20;c=f+i.anchorDeltaY/20;if(e){s=e.pointApply(s,f);i=e.pointApply(n,c);m.push(["quadraticCurveTo",s.x,s.y,i.x,i.y])}else m.push(["quadraticCurveTo",s,f,n,c]);break}}k&&m.push(["fill"]);e&&m.push(["transform",e.a,e.b,e.c,e.d,e.tx,e.ty]);j&&m.push(["stroke"]);return m},
synchronizeMorphPaths:function(d,b){for(var a,h,q,v,i,s,n=0,c=0,f=d.length;c<f;c++){a=d[c];h=b[c];n=0;switch(a[0]){case "lineTo":n+=1;q=a[1];v=a[2];break;case "quadraticCurveTo":n+=2;q=a[3];v=a[4];break;case "moveTo":q=a[1];v=a[2];break}switch(h[0]){case "lineTo":n+=4;i=h[1];s=h[2];break;case "quadraticCurveTo":n+=8;i=h[3];s=h[4];break;case "moveTo":i=h[1];s=h[2];break}var k,j,e;switch(n){case 6:j=h[1];e=h[2];n=(j-i)/2;k=(e-s)/2;h[0]="quadraticCurveTo";h[1]=n;h[2]=k;h[3]=j;h[4]=e;break;case 9:j=a[1];
e=a[2];n=(j-q)/2;k=(e-v)/2;a[0]="quadraticCurveTo";a[1]=n;a[2]=k;a[3]=j;a[4]=e;break;default:break}}},interpolateShape:function(d,b){var a=d.fillStyles,h=d.lineStyles;b=b?b:0;b=b/65536;for(var q=1-b,v={fillStyles:[],lineStyles:[],shapeRecords:[],boundingBox:[]},i,s,n=0,c=a.length;n<c;n++){i=a[n];s={operation:i.operation,type:i.type};switch(s.operation){case l.SolidFill:s.color=u.interpolateColor(i.startColor,i.endColor,b,q);break;case l.GradientFill:s.transform=u.interpolateMatrix(i.startTransform,
i.endTransform,b,q);s.gradients=[];for(var f=0,k=i.gradients.length;f<k;f++){var j=i.gradients[f];s.gradients.push({ratio:Math.round(j.startRatio*q+j.endRatio*b),color:u.interpolateColor(j.startColor,j.endColor,b,q)})}break;case l.BitmapFill:break}v.fillStyles.push(s)}n=0;for(c=h.length;n<c;n++){a=h[n];i={operation:a.operation};i.width=a.startWidth*q+a.endWidth*b;i.color=u.interpolateColor(a.startColor,a.endColor,b,q);v.lineStyles.push(i)}h=d.startRecords;a=d.endRecords;n=0;for(c=h.length;n<c;n++){i=
h[n];s=a[n];f={operation:i.operation};switch(i.operation){case l.StyleChangeRecord:f.fillStyle=i.fillStyle;f.fillStyle0=i.fillStyle0;f.fillStyle1=i.fillStyle1;f.lineStyle=i.lineStyle;if(f.hasMoveTo=i.hasMoveTo){f.moveDeltaX=i.moveDeltaX*q+s.moveDeltaX*b;f.moveDeltaY=i.moveDeltaY*q+s.moveDeltaY*b}break;case l.StraightEdgeRecord:f.x=i.x*q+s.x*b;f.y=i.y*q+s.y*b;break;case l.CurvedEdgeRecord:f.controlDeltaX=i.controlDeltaX*q+s.controlDeltaX*b;f.controlDeltaY=i.controlDeltaY*q+s.controlDeltaY*b;f.anchorDeltaX=
i.anchorDeltaX*q+s.anchorDeltaX*b;f.anchorDeltaY=i.anchorDeltaY*q+s.anchorDeltaY*b;break}v.shapeRecords.push(f)}for(n=0;n<4;n++)v.boundingBox.push(d.startBounds[n]*q+d.endBounds[n]*b);return v},colorArrayToString:function(d){var b="";if(d.length==3)b="rgb("+d[0]+","+d[1]+","+d[2]+")";else if(d.length==4)b="rgba("+d[0]+","+d[1]+","+d[2]+","+d[3]+")";return b},fixFloat:function(d){return Math.round(d*100)*0.01},groupCharacters:function(d){var b={shapes:[],sprites:[],morphShapes:[]},a;for(var h in d){a=
d[h];switch(a.className){case "Shape":b.shapes.push(a);break;case "MovieClip":b.sprites.push(a);break;case "Shape":b.morphShapes.push(a);break}}return b}},x=function(d){this.parseTree=d};x.prototype={analyze:function(d,b){for(var a,h={},q=[],v=0,i=d.length;v<i;v++){a=d[v];switch(a.operation){case Shape:h[a.characterId]=r.shape(a,b);break;case Sprite:h[a.characterId]=r.sprite(a,b);break;case PlaceObject:q.push(null);break}}},analyzeCharacters:function(d,b){var a={},h;for(var q in d){h=d[q];switch(h.operation){case l.Shape:a[h.characterId]=
r.shape(h,b);break;case l.Sprite:a[h.characterId]=r.sprite(h,b);break;case l.MorphShape:a[h.characterId]=r.morphShape2(h,b);break}}return a},getCharacters:function(){var d=this.parseTree.dictionary,b={},a;for(var h in d){a=d[h];switch(a.operation){case l.Shape:b[a.characterId]=r.shape(a,this.parseTree);break;case l.Sprite:b[a.characterId]=r.sprite(a,this.parseTree);break;case l.MorphShape:b[a.characterId]=r.morphShape2(a,this.parseTree);break}}return b},getGroupedCharacters:function(){var d=this.parseTree.dictionary,
b={shapes:[],sprites:[],morphShapes:[]},a;for(var h in d){a=d[h];switch(a.operation){case l.Shape:b.shapes.push(r.shape(a,this.parseTree));break;case l.Sprite:b.sprites.push(r.sprite(a,this.parseTree));break;case l.MorphShape:b.morphShapes.push(r.morphShape2(a,this.parseTree));break}}return b},getShapes:function(){var d={},b=this.parseTree.dictionary;for(var a in b){var h=b[a];if(h.operation==l.Shape)d[a]=r.shape(h,this.parseTree)}return d},getRootMovieClip:function(){return r.sprite(this.parseTree,
this.parseTree)}};SRT.analyzer.Analyzer=x})();
(function(){function l(c){var f=c.fillStyles||[],k=c.lineStyles||[];c=c.shapeRecords;var j={},e={},m={},p,w=0,y=0,B,C,J=0,K=0,D=0,E=0,G=0,H,I,F,z,A;C=B=false;for(var N=function(L){D&&z.paths.push(L.slice(0));E&&A.paths.push(L.slice(0));G&&F.push(L.slice(0))},M=0,O=c.length;M<O;M++){p=c[M];switch(p.operation){case v.StyleChangeRecord:if(p.fillStyles){J=f.length;f=f.concat(p.fillStyles)}if(p.lineStyles){K=k.length;k=k.concat(p.lineStyles)}B=false;if(p.fillStyle0>-1){D=p.fillStyle0;if(z){z.to={x:w,y:y};
z=null;B=true}if(D){D+=J;(H=j[D])||(j[D]=H=[]);if(!p.hasMoveTo){z={from:{x:w,y:y},to:null,paths:[],hasMoveTo:false};H.push(z)}}}C=false;if(p.fillStyle1>-1){E=p.fillStyle1;if(A){A.to={x:w,y:y};A=null;C=true}if(E){E+=J;(I=e[E])||(e[E]=I=[]);if(!p.hasMoveTo){A={from:{x:w,y:y},to:null,paths:[],hasMoveTo:false};I.push(A)}}}if(p.lineStyle>-1)if(G=p.lineStyle){F=m[G+K];if(!F){F=[];m[G+K]=F}p.hasMoveTo||F.push(["moveTo",w,y])}if(p.hasMoveTo){if(!B&&z)z.to={x:w,y:y};if(!C&&A)A.to={x:w,y:y};w=p.moveDeltaX/
20;y=p.moveDeltaY/20;if(D){z={from:{x:w,y:y},to:null,paths:[],hasMoveTo:true};H.push(z)}if(E){A={from:{x:w,y:y},to:null,paths:[],hasMoveTo:true};I.push(A)}G&&F.push(["moveTo",w,y])}break;case v.StraightEdgeRecord:w+=p.x/20;y+=p.y/20;N(["lineTo",w,y]);break;case v.CurvedEdgeRecord:B=w+p.controlDeltaX/20;C=y+p.controlDeltaY/20;w=B+p.anchorDeltaX/20;y=C+p.anchorDeltaY/20;N(["quadraticCurveTo",B,C,w,y]);break}}if(z)z.to={x:w,y:y};if(A)A.to={x:w,y:y};return{fill0EdgeMap:j,fill1EdgeMap:e,lineEdgeMap:m,
fillStyles:f,lineStyles:k}}function g(c,f){var k={},j,e;for(var m in f)if(c[m]){e=f[m];j=x(c[m]);k[m]=o(e.concat(j));delete c[m]}else k[m]=o(f[m]);for(m in c)k[m]=o(c[m]);return b(k)}function o(c){var f=[];c=t(c);for(var k,j=0,e=c.length;j<e;j++){k=c[j];f.push(["moveTo",k.from.x,k.from.y]);f=f.concat(k.paths)}return f}function t(c){var f=[];if(c&&c.length)for(var k,j;k=c.shift();){for(var e=true;e;){e=false;for(var m=0;m<c.length;m++)if(j=u(k,c[m])){k=j>0?r(k,c[m]):r(c[m],k);c.splice(m,1);e=true;
break}}f.push(k)}return f}function u(c,f){return Math.abs(c.to.x-f.from.x)<=1.0E-4&&Math.abs(c.to.y-f.from.y)<=1.0E-4?1:Math.abs(c.from.x-f.to.x)<=1.0E-4&&Math.abs(c.from.y-f.to.y)<=1.0E-4?-1:0}function r(c,f){var k={from:{},to:{}};k.from.x=c.from.x;k.from.y=c.from.y;k.to.x=f.to.x;k.to.y=f.to.y;k.paths=c.paths.concat(f.paths);return k}function x(c){for(var f=[],k=c.length,j,e=0;e<k;e++){j=c[e];f.push(d(j))}return f}function d(c){var f,k=c.paths,j=k.length;if(j>0){f=[];var e,m,p=c.from;c=c.to;for(var w=
j-1;w>0;w--){j=k[w];m=k[w-1];e=m[m.length-2];m=m[m.length-1];j[j.length-2]=e;j[j.length-1]=m;f.push(j)}j=k[0];j[j.length-2]=p.x;j[j.length-1]=p.y;f.push(j);f={from:c,to:p,paths:f}}return f}function b(c){var f=[],k={};for(var j in c)f.push(j);f.sort(function(p,w){return parseInt(p)-parseInt(w)});for(var e=0,m=f.length;e<m;e++){j=f[e];k[j]=c[j]}return k}function a(c,f){var k=[],j,e,m,p=false;for(var w in f){e=c[w-1];j=f[w];switch(e.operation){case v.SolidFill:j.unshift(["fillStyle",n.colorArrayToString(e.color)]);
break;case v.GradientFill:var y={type:e.type==i.LinearGradient?"linear":"radial",stops:[]};p=0;for(var B=e.gradients.length;p<B;p++)y.stops.push({color:n.colorArrayToString(e.gradients[p].color),position:e.gradients[p].ratio/255});if(e.transform){e=s.formateMatrix(e.transform);m=e.invert();q(j,m);j.unshift(["transform",e.a,e.b,e.c,e.d,e.tx,e.ty]);p=true}else p=false;j.unshift(["fillStyle",y]);break;case v.BitmapFill:break}j.unshift(["beginPath"]);j.push(["fill"]);p&&j.push(["transform",m.a,m.b,m.c,
m.d,m.tx,m.ty]);k=k.concat(j)}return k}function h(c,f){var k=[],j,e;for(var m in f){e=c[m-1];j=f[m];j.unshift(["strokeStyle",n.colorArrayToString(e.color)]);j.unshift(["beginPath"]);j.push(["stroke"]);k=k.concat(j)}return k}function q(c,f){for(var k,j,e=0,m=c.length;e<m;e++){j=c[e];if(j.length>2)for(var p=j.length-1;p>0;p-=2){k=f.pointApply(j[p-1],j[p]);j[p-1]=k.x;j[p]=k.y}}return c}var v=SRT.Operation,i=SRT.FillStyleTypes,s=SRT.math.TransformMatrix,n=SRT.analyzer;n.shape=function(c){var f=[],k=l(c);
f=k.fillStyles;var j=k.lineStyles,e=k.lineEdgeMap;k=g(k.fill0EdgeMap,k.fill1EdgeMap);f=a(f,k);f=f.concat(h(j,e));return{uuid:c.characterId,records:f,width:(c.boundingBox[2]-c.boundingBox[0])/20,height:(c.boundingBox[3]-c.boundingBox[1])/20,anchorPoint:{x:c.boundingBox[0]/20,y:c.boundingBox[1]/20},className:"Shape"}}})();
